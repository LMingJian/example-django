<!doctype html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="/static/bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- User CSS -->
    <link href="/static/css/sidebars.css" rel="stylesheet">
    <link href="/static/css/base.css" rel="stylesheet">
    {% block css %}{% endblock %}

    <!-- Icon -->
    <link rel="shortcut icon" href="/static/pic/null.ico" type="image/x-icon" />
    <title>Release Manager</title>
  </head>

<!-- Svg icon -->
<svg xmlns="http://www.w3.org/2000/svg" class='display-none'>
  <symbol id="code" viewBox="0 0 16 16">
    <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
    <path d="M6.854 4.646a.5.5 0 0 1 0 .708L4.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0zm2.292 0a.5.5 0 0 0 0 .708L11.793 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708 0z"/>
  </symbol>
  <symbol id="bug" viewBox="0 0 16 16">
    <path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/>
  </symbol>
  <symbol id="hdd" viewBox="0 0 16 16">
    <path d="M4.5 11a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zM3 10.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
    <path d="M16 11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9.51c0-.418.105-.83.305-1.197l2.472-4.531A1.5 1.5 0 0 1 4.094 3h7.812a1.5 1.5 0 0 1 1.317.782l2.472 4.53c.2.368.305.78.305 1.198V11zM3.655 4.26 1.592 8.043C1.724 8.014 1.86 8 2 8h12c.14 0 .276.014.408.042L12.345 4.26a.5.5 0 0 0-.439-.26H4.094a.5.5 0 0 0-.44.26zM1 10v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1z"/>
  </symbol>
  <symbol id="case" viewBox="0 0 16 16">
    <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"/>
  </symbol>
  <symbol id="gear" viewBox="0 0 16 16">
    <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
    <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
  </symbol>
</svg>

<!-- Body -->
<body>

<!-- Header -->
<header>
  <nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">
          <img src="/static/pic/logo.png" width="180" title='logo'>
      </a>
    </div>
  </nav>
</header>

<!-- Main Content -->
<main>

  <!-- Sidebars -->
  <div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark width-220">
    <ul class="nav nav-pills flex-column mb-auto" id="sidebar-ul">
      <li class="nav-item">
        {% block sidebars_item1 %}
        <a href="/software_release" class="nav-link text-white">
        {% endblock %}
          <svg class="bi me-2" width="16" height="16"><use xlink:href="#code"></use></svg>
          软件发行
        </a>
      </li>
      <li class="nav-item">
        {% block sidebars_item6 %}
        <a href="/hardware_release" class="nav-link text-white">
        {% endblock %}
          <svg class="bi me-2" width="16" height="16"><use xlink:href="#hdd"></use></svg>
          硬件发行
        </a>
      </li>
      {% if user.username != '' %}
      <li class="nav-item">
        {% block sidebars_item2 %}
        <a href="/bug_workspace" class="nav-link text-white">
        {% endblock %}
          <svg class="bi me-2" width="16" height="16"><use xlink:href="#bug"></use></svg>
          缺陷收集
        </a>
      </li>
      <li class="nav-item">
        {% block sidebars_item4 %}
        <a href="/case" class="nav-link text-white">
        {% endblock %}
          <svg class="bi me-2" width="16" height="16"><use xlink:href="#case"></use></svg>
          用例收集
        </a>
      </li>
      <li class="nav-item">
        {% block sidebars_item3 %}
        <a href="/version" class="nav-link text-white">
        {% endblock %}
          <svg class="bi me-2" width="16" height="16"><use xlink:href="#gear"></use></svg>
          版本管理
        </a>
      </li>
      {% endif %}
    </ul>
    <hr>
    
    {% if user.username != '' %}
    <div class="dropdown">
      <a href="javascript:void(0);" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser" data-bs-toggle="dropdown">
        <img src="/static/pic/null.png" alt="" width="32" height="32" class="rounded-circle me-2">
        {% if user.first_name != '' %}
          <strong id="user{{user.id}}">{{user.first_name}}</strong>
        {% else %}
          <strong id="user{{user.id}}">登录用户</strong>
        {% endif %}
      </a>
      <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
        <li><a class="dropdown-item" id="logout" href="javascript:void(0);">注销</a></li>
        {% if user.username == 'admin' %}
        <li><a class="dropdown-item" id="setting" href="/setting">系统设置</a></li>
        {% endif %}
      </ul>
    </div>
    {% else %}
    <div class="dropdown"> 
      <a href="javascript:void(0);" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser" data-bs-toggle="dropdown">
        <img src="/static/pic/null.png" alt="" width="32" height="32" class="rounded-circle me-2">
          <strong>游客</strong>
      </a>
      <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
        <li><a class="dropdown-item" id="login" href="/login">登录</a></li>
      </ul>
    </div>
    {% endif %}
    
  </div>

  <!-- Container -->
  <div class="container-fluid" id="container">

    {% block content %}{% endblock %}

  </div>

</main>


<!-- Model -->
{% block model %}{% endblock %}


<!-- Toast -->
<div data-bs-delay='2000' class="toast bg-primary text-white border-0 position-absolute top-0 start-50 translate-middle-x mt-3" role="alert">
  <div class="d-flex">
    <div class="toast-body fst-normal fs-6"></div>
  </div>
</div>


    <!-- script -->
    <script src="/static/jquery-3.6.0-dist/jquery-3.6.0.min.js"></script>
    <script src="/static/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/base.js"></script>
    <script src="/static/js/sidebars.js"></script>
    {% block script %}{% endblock %}

</body>

</html>